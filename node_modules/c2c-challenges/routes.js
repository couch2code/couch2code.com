var fs = require('fs');

module.exports = function($stateProvider) {
  $stateProvider
    .state('challenges', {
      url: '/challenges',
      abstract: true,
      template: '<div ui-view></div>'
    })
    .state('challenges.list', {
      url: '/',
      controller: require('./controllers/list'),
      template: fs.readFileSync(__dirname + '/templates/list.html')
    })
    .state('challenges.new', {
      url: '/new',
      controller: require('./controllers/new'),
      template: fs.readFileSync(__dirname + '/templates/form.html'),
      resolve: { challenges: require('./resolve/challenges') }
    })
    .state('challenges.show', {
      url: '/:id',
      controller: require('./controllers/show'),
      template: fs.readFileSync(__dirname + '/templates/show.html'),
      resolve: { challenge: require('./resolve/challenge') }
      
    })
    .state('challenges.edit', {
      url: '/:id/edit',
      controller: require('./controllers/edit'),
      template: fs.readFileSync(__dirname + '/templates/form.html'),
      resolve: { challenge: require('./resolve/challenge') }
    });
}